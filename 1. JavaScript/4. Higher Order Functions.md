# Higher Order Functions

- [ForEach](#foreach)
- [Map](#map)
- [Arrow Functions](#arrow-functions)
- [setTimeout and setInterval](#settimeout-and-setinterval)
- [Find](#find)
- [Filter](#filter)
- [Some and Every](#some-and-every)
- [Reduce](#reduce)

---

## Higher Order Functions

Functions that operate on/with other functions. They can:

- Accept other functions as arguments
- Return a function

---

### ForEach

The `forEach()` method calls a function for each element in an array.

```js
const numbers = [
  1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
];

numbers.forEach(function (el) {
  if (el % 2 === 0) {
    console.log(el);
  }
});

// for (let el of numbers) {
//     console.log(el);
// }
```

```js
const movies = [
  {
    title: "Amadeus",
    score: 99,
  },
  {
    title: "Stand By Me",
    score: 85,
  },
  {
    title: "Parasite",
    score: 95,
  },
  {
    title: "Alien",
    score: 90,
  },
];

movies.forEach(function (movie) {
  console.log(`${movie.title} - ${movie.score}/100`);
});
```

---

### Map

The `map()` method creates a new array populated with the results of calling a provided function on every element in the calling array.

Example 1:

```js
const numbers = [
  1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
];

const doubles = numbers.map(function (num) {
  return num * 2;
});
```

Example 2:

```js
const movies = [
  {
    title: "Amadeus",
    score: 99,
  },
  {
    title: "Stand By Me",
    score: 85,
  },
  {
    title: "Parasite",
    score: 95,
  },
  {
    title: "Alien",
    score: 90,
  },
];

const titles = movies.map(function (movie) {
  return movie.title.toUpperCase();
});
```

---

## Arrow Functions

An arrow function expression is a compact alternative to a traditional function expression
Example : ways of writing functions

```js
// Traditional function syntax
const add = function (x, y) {
  return x + y;
};

// Arrow function Syntax
const add = (x, y) => {
  return x + y;
};

// Arrow function Syntax [shorthand]
const add = (a, b) => a + b;

const square = (num) => {
  return num * num;
};
```

Arrow Function Implicit Returns

```js
// Without  Return

const rollDie = () => Math.floor(Math.random() * 6) + 1;
```

**Note** : Implicit Return only work when there is only and only one line statement in body of function.

Another Example of Implicit Return

```js
const movies = [
  {
    title: "Amadeus",
    score: 99,
  },
  {
    title: "Stand By Me",
    score: 85,
  },
  {
    title: "Parasite",
    score: 95,
  },
  {
    title: "Alien",
    score: 90,
  },
];

// IMPLICIT RETURN
const newMovies = movies.map((movie) => `${movie.title} - ${movie.score / 10}`);
```

```js
const person = {
  firstName: "Viggo",
  lastName: "Mortensen",
  fullName: function () {
    return `${this.firstName} ${this.lastName}`;
  },
  shoutName: function () {
    setTimeout(() => {
      //keyword 'this' in arrow functions refers to the value of 'this' when the function is created
      console.log(this);
      console.log(this.fullName());
    }, 3000);
  },
};
```

---

## setTimeout and setInterval (Window Object functions)

The `setTimeout()` method calls a function after a number of milliseconds.

1 second = 1000 milliseconds.

```js
console.log("HELLO!!!...");
setTimeout(() => {
  console.log("...are you still there?");
}, 3000);

console.log("GOODBYE!!");
```

The `setInterval()` method calls a function at specified intervals (in milliseconds).

The `setInterval()` method continues calling the function until `clearInterval()` is called, or the window is closed.

```js
const id = setInterval(() => {
  console.log(Math.random());
}, 2000);

// clearInterval(id);
```

---

### Find

The `find()` method returns the first element in the provided array that satisfies the provided testing function. If no values satisfy the testing function, `undefined` is returned.

```js
const array1 = [5, 12, 8, 130, 44];

const found = array1.find((element) => element > 10);

console.log(found);
// expected output: 12
```

**Note**: If we need the index of the found element in the array, we use `findIndex()`.

---

## Filter

`filter()` method creates a new array filled with elements that pass a test provided by a function.

```js
const ages = [22, 30, 17, 18, 19, 25, 70];

const teenagers = ages.filter((age) => (age > 10) & (age < 20));

console.log(teenagers); // [17,18,19]
```

### Another Example

```js
const movies = [
  {
    title: "Amadeus",
    score: 39,
  },
  {
    title: "Stand By Me",
    score: 75,
  },
  {
    title: "Parasite",
    score: 95,
  },
  {
    title: "Alien",
    score: 20,
  },
];

const badMovies = movies.filter((movie) => movie.score < 40);

console.log(badMovies); // ) [{…}, {…}]
```

### Filter & Map Together

```js
// const goodMovies = movies.filter(m => m.score > 80)
// const goodTitles = goodMovies.map(m => m.title)

const someMovies = movies.filter((m) => m.score > 80).map((m) => m.title);

console.log(someMovies); // ['Amadeus']
```

---

## some and every

### `every() `

- method executes a function for each array element.
- method returns `true` if the function returns true for all elements.
- method returns `false` if the function returns false for one element.

```js
const passedScores = [80, 70, 90, 60, 50, 40];

const checkPassed = passedScores.every((e) => e >= 40);

console.log(checkPassed); // true
```

### `some()`

- method checks if any array elements pass a test (provided as a callback function).
- method executes the callback function once for each array element.
- method returns `true` (and stops) if the function returns true for one of the array elements.
- method returns false if the function returns false for all of the array elements.

```js
const movies = [
  {
    title: "Amadeus",
    score: 79,
  },
  {
    title: "Stand By Me",
    score: 75,
  },
  {
    title: "Parasite",
    score: 95,
  },
  {
    title: "Alien",
    score: 60,
  },
];

const averageMovies = movies.some((movie) => movie.score > 80);

// averageMovies will be true:
// if in movies it got atleast single score more than 80

console.log(averageMovies); // true
```

### Common Points to Note on `some` and `every`

- Each method does not execute the function for empty array elements.
- Each method does not change the original array

---

## Reduce

The `reduce()` method executes a reducer function on each element of the array and returns a single output value.

```js
const prices = [9.99, 1.5, 19.99, 49.99, 30.5];

const totalPrice = prices.reduce((total, price) => total + price);

console.log(totalPrice); // 111.97
```

```js
function getMinPrice(min, price) => {
    if (price < min) {
        return price;
  }
  return min;
}

const minPrice = prices.reduce(getMinPrice);

console.log(minPrice);
```

### `reduce()` parameters

It takes

- `callback`: function to execute on each array element
  - `accumulator`: accumulates callback's return value.
  - `currentValue`: current element is being passed from array.
- `initialValue`(optional):A value that will be passed to `callback() `on first call.

```js
const prices = [10, 20, 30, 40, 50];
const taxValue = prices.length + 10;

const totalPricesWithouttax = prices.reduce((acc, curr) => acc + curr);

// passing initialValue as a tax
const totalPricesWithTax = prices.reduce((acc, curr) => acc + curr, taxValue);

console.log(totalPricesWithouttax); // 150
console.log(totalPricesWithTax); // 165
```

---
